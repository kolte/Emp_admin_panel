<app-auth-navbar></app-auth-navbar>
<main class="profile-page">
  <section class="relative block h-500-px">
    <div class="absolute top-0 w-full h-full bg-center bg-cover" style="
        background-image: url('https://images.unsplash.com/photo-1499336315816-097655dcfbda?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2710&q=80');
      ">
      <span id="blackOverlay" class="w-full h-full absolute opacity-50 bg-black">TASK REPORT</span>
    </div>
    <div class="top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-70-px"
      style="transform: translateZ(0)">
      <svg class="absolute bottom-0 overflow-hidden" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"
        version="1.1" viewBox="0 0 2560 100" x="0" y="0">
        <polygon class="text-blueGray-200 fill-current" points="2560 0 2560 100 0 100"></polygon>
      </svg>
    </div>
  </section>
  <div class="relative pb-32">
    <div class="px-4 md:px-10 mx-auto w-full">
      <a [routerLink]="['/admin/task/']" class="flex items-center bg-blue-500 text-black font-bold py-2 px-4 rounded"
        routerLinkActive #adminDashboard="routerLinkActive">
        <i class="fas fa-arrow-left mr-2 text-lg"></i>
        <b>Back</b>
      </a>
      <div class="flex flex-wrap justify-center">
        <!-- Card stats -->
        <div class="relative" style="width:100%">
          <div class="card-container">
            <div class="mt-2 py-2 border-t border-blueGray-200 text-center">
              <div class="flex flex-wrap justify-center">
                <div class="w-full  px-4">
                  <div class="mb-4 text-lg leading-relaxed text-blueGray-700 flex justify-between">
                    <div class="horizontal-calendar w-80 p-4">
                      <div class="jumbotron">
                        <h3 class="text-center">Task ID: KT001</h3>
                        <form class="container pt-12" [formGroup]="EmployeeForm">
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label for="tracks">Project Name</label>
                                <select class="form-control disabled" id="country" formControlName="project_id" disabled>
                                  <option *ngFor="let pro of projectList" [value]="pro.project_id">{{pro.project_name}}
                                  </option>
                                </select>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label for="environments">Task Name</label>
                                <input type="text" class="form-control disabled" formControlName="task_name" disabled />
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-6">
                              <div class="form-group">
                                <label for="tracks">Assign To</label>
                                <select class="form-control disabled" id="country" formControlName="assignee_id" disabled>
                                  <option *ngFor="let emp of empData" [value]="emp.id">
                                    {{emp.first_name}}{{emp.middle_name}}</option>
                                </select>
                              </div>
                            </div>
                            <div class="col-md-6">
                              <div class="form-group">
                                <label for="environments">Reporting To</label>
                                <select class="form-control disabled" id="country" formControlName="reporter_id" disabled>
                                  <option *ngFor="let emp of empData" [value]="emp.id">
                                    {{emp.first_name}}{{emp.middle_name}}</option>
                                </select>
                              </div>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="tracks">Priority</label>
                                <div class="col d-flex">
                                  <div class="form-check mr-1">
                                    <input type="radio" id="priority-high" name="priority" value="high"
                                      formControlName="priority" class="form-check-input" disabled>
                                    <label class="form-check-label" for="priority-high">High</label>
                                  </div>
                                  <div class="form-check mr-1">
                                    <input type="radio" id="priority-medium" name="priority" value="medium"
                                      formControlName="priority" class="form-check-input" disabled>
                                    <label class="form-check-label" for="priority-medium">Medium</label>
                                  </div>
                                  <div class="form-check mr-1">
                                    <input type="radio" id="priority-low" name="priority" value="low"
                                      formControlName="priority" class="form-check-input" disabled>
                                    <label class="form-check-label" for="priority-low">Low</label>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="environments">Status</label>
                                <select class="form-control" id="country" formControlName="status" disabled>
                                  <option value="open">Open</option>
                                  <option value="in progress">In progress</option>
                                  <option value="resolved">Resolved</option>
                                  <option value="closed">Closed</option>
                                  <!-- <option *ngFor="let dept of departmentOption" [value]="dept.id">{{dept.department_name}}</option> -->
                                </select>
                              </div>
                            </div>
                            <div class="col-md-4">
                              <div class="form-group">
                                <label for="environments">Due Date</label>
                                <input type="date" formControlName="due_date" disabled
                                  class="form-control disabled px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150 ng-pristine ng-invalid ng-touched"
                                  ng-reflect-name="due_date" disabled>
                              </div>
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="taskDescription">Task Description</label>
                            <textarea class="form-control disabled" formControlName="task_description" disabled id="taskDescription" rows="5"
                              placeholder="Enter task description..." disabled></textarea>
                          </div>
                        </form>
                        <!-- <form class="container pt-12">
                          <div class="form-group" id="moreScripts">
                            <label for="dbChanges">Task Files</label>
                          </div>
                          <div class="form-group">
                            <a class="btn btn-success" href="#" id="addScripts">
                              <i class="fa fa-plus fa-lg"></i> Add Attachments</a>
                          </div>
                        </form> -->
                        <div class="container pt-2">
                          <div class="form-group">
                            <label for="comment">All Attachments:</label>
                            <div id="comment"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="vertical-calendar w-20 p-4">
                      <div class="jumbotron">
                        <h3 class="text-center">Task Comments</h3>
                        <form class="container  pt-12" [formGroup]="commentForm" (submit)="addComment()">
                          <div class="form-group">
                            <label for="configChanges">Enter the comments for
                              release notes purpose</label>
                            <textarea class="form-control" rows="5" id="configChanges" formControlName="comment_text"></textarea>
                          </div>
                          <a class="btn btn-success" id="generateComments" (click)="addComment()">
                            <i class="fa fa-plus fa-lg"></i> {{edit_id ? 'Update Comments' : 'Add Comments'}}</a>
                        </form>
                        <div class="container pt-12">
                          <div class="form-group">
                            <div class="comments-container">
                              <h1>All Comments:</h1>

                              <ul id="comments-list" class="comments-list">
                                <li *ngFor="let comment of commentData">
                                  <div class="comment-main-level">
                                    <div class="comment-box">
                                      <div class="comment-head">
                                        <!-- <button class="edit" (click)="edit(comment.comment_id,comment.comment_text )">Edit</button>
                                          <button class="delete" (click)="delete(comment.comment_id)">Delete</button> -->
                                          
                                          
                                          <div class="comment-avatar">
                                            <img [src]="'data:image/jpeg;base64,'+ getEmpDetail(comment.user_id).profile_picture"
                                            alt=""></div>
                                            <h6 class="comment-name by-author"><a href="http://creaticode.com/blog">{{getEmpDetail(comment.user_id).first_name}}  {{getEmpDetail(comment.user_id).last_name}} </a></h6>
                                            <span>hace 20 minutos</span>
                                            <div class="action_div">
                                              <i class="fa fa-trash fa-sm " (click)="delete(comment.comment_id)"></i>
                                              <i class="fa fa-pencil  fa-sm" (click)="edit(comment.comment_id,comment.comment_text )" ></i>
                                            </div>  
                                      </div>
                                      <div class="comment-content">
                                        {{comment.comment_text}}
                                      </div>
                                    </div>
                                  </div>
                                </li>

                              
                              </ul>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>







          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<app-footer></app-footer>